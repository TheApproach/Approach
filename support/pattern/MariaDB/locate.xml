<Imprint xmlns:Imprint="Approach://imprint.approach.local" xmlns:render="Approach://render.approach.local">
    <Imprint:Pattern name="locate" type="HTML">
        

	SELECT * , (case else 1 end), as calculated_priority FROM 'users'
SELECT [@ picks @]
	<!-- node Render:type="IfTrue" condition="[@ weight_aspects @]" -->
	, (case
		<node render:type="Loop" what="[@ weight_aspects @]" as="aspect">
			when [@ aspect.field @] [@ aspect.operator @] [@ aspect.value @] then [@ aspect.weight @]
		</node>
		else 1
		end), as calculated_priority
	<!-- /node -->
FROM [@ source @] 
WHERE 
		calculated_priority &gt; 0
		AND
		(
			TRUE <Render:If condition="[@ need @]">
		)

ORDER BY 
	calculated_priority desc;

    </Imprint:Pattern>
</Imprint>